<% layout("/layouts/boilerplate") %>

<div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>My Profile</h2>
        <button id="darkModeToggle" class="btn btn-outline-dark rounded-pill">Toggle Dark Mode</button>
    </div>

    <div class="card shadow-sm p-4">
        <div class="row g-4 align-items-center">
            <div class="col-md-4 text-center">
                <img src="https://i.pravatar.cc/200" class="rounded-circle" alt="Profile Picture" style="width: 150px; height: 150px;">
            </div>
            <div class="col-md-8">
                <h3><%= currUser.username %></h3>
                <p class="text-muted mb-1"><%= currUser.email %></p>
                <p class="text-muted">Member since: <%= currUser.createdAt.toDateString() %></p>

                <a href="/dashboard" class="btn btn-danger rounded-pill mt-3 px-4">Go to Dashboard</a>
                <a href="/profile/edit" class="btn btn-outline-dark rounded-pill mt-3 px-4">Edit Profile</a>
            </div>
        </div>
    </div>
</div>

<script>
// Dark Mode Toggle
const toggleBtn = document.getElementById('darkModeToggle');
toggleBtn.addEventListener('click', () => {
    document.body.classList.toggle('bg-dark');
    document.body.classList.toggle('text-white');
    localStorage.setItem('darkMode', document.body.classList.contains('bg-dark'));
});

// On page load
if (localStorage.getItem('darkMode') === 'true') {
    document.body.classList.add('bg-dark', 'text-white');
}
</script>

<%- include('../partials/footer') %>
